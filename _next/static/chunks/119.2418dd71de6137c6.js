"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{74735:function(e,r,s){Object.defineProperty(r,"M",{enumerable:!0,get:function(){return n.ApiError}});var n=s(63549)},12119:function(e,r,s){s.r(r),s.d(r,{default:function(){return E}});var n=s(2784),t=s(67976),a=s(74735),o=s(80796),i=s(99071),c=s(89100);var u=s(12803),l=s(92122),d=s(75891),S=s(52322);const f=({setSession:e})=>{const r=(({maxAgeMs:e=6e4})=>{const r=c.Z.get("useGetSession"),s=(0,o.useFetchableResource)((0,t.z)().sessionApiUrl),{0:u}=(0,n.useState)(s.data);if((0,n.useEffect)((()=>s.subscribe({callback:()=>{var e,r;e=s.data,r=u,(e&&"userId"in e&&r&&"userId"in r?e.userId!==r.userId:e!==r)&&(console.warn("User ID has changed -- reloading the app!",s.data,u),(0,i.reportError)({error:new Error("User ID changed while using the app. Page forceably reloaded")}),window.location.reload())},maxAgeMs:e})),[s,e,u]),void 0===u)throw s.fetch();if(u instanceof Error||u instanceof a.M){const{status:e,message:s}=u;return r.error("".concat(e," ").concat(s)),"NO_SESSION"}return u})({maxAgeMs:6e4*Number("10")});return(0,n.useEffect)((()=>{r?e(r):r===u.R5.NO_SESSION&&e(u.R5.NO_SESSION)}),[r,e]),(0,S.jsx)("div",{})},g=()=>(0,S.jsx)("div",{}),h=c.Z.get("AuthPage");var E=()=>{const{session:e,setSession:r}=(0,n.useContext)(l.Il),s=""===e;return e===u.R5.NO_SESSION?(0,S.jsx)("div",{}):s||null!==e&&void 0!==e&&e.userId?(0,S.jsx)(d.Z,{fallback:g,onError:e=>{r(u.R5.NO_SESSION),h.error("useGetSession failing, error: ".concat(JSON.stringify(e)))},children:(0,S.jsx)(n.Suspense,{fallback:null,children:(0,S.jsx)(f,{setSession:r})})}):(0,S.jsx)("div",{})}}}]);
//# sourceMappingURL=119.2418dd71de6137c6.js.map